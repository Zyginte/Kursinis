{% extends 'base.html' %}

{% block content %}


<h3>User Availability for {{ today }}</h3>


    <table>
        <thead>
            <tr>
                <th>USERS</th>
                <th></th>
                {% for hour in hours_range %}
                    <th colspan="10">{{ hour }}:00</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr>
                {% for hour in hours_range %}
                    <td>
                        <!-- Add your logic here for each hour if needed -->
                    </td>
                {% endfor %}
            </tr>
            <tr>
                <td>
                    {% for user in available_users %}
                        {{ user.user.name }} {{ user.user.last_name }}:
                        {{ user.available_from|default_if_none:"Not available" }} - {{ user.available_until|default_if_none:"Not available" }}
                    {% endfor %}
                </td>
            </tr>
        </tbody>
    </table>

<br>

    <table>
        <thead>
            <tr>
                <th>Not available users</th>
            </tr>
            <tr>
                <th>User</th>
                <th>On vacation from:</th>
                <th>On vacation until:</th>
            </tr>
        </thead>

        <tbody>
            {% for user in not_available_users %} 
                <tr>
                    <td>{{ user.user.name }} {{ user.user.last_name }}</td>
                    {% if user.on_vacation_from %}
                    <td>{{ user.on_vacation_from }}</td>
                    <td>{{ user.on_vacation_until }}</td>
                    {% else %}
                    <td>N/A</td>
                    <td>N/A</td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock content %}